<template>
  <div class="card">
    <h2>ğŸ‘¤ Profile</h2>

    <p>åå‰ï¼š{{ name }}</p>

    <div v-if="savedResult">
      <h3>ğŸµ å‰å›ã®è¨ºæ–­çµæœ</h3>
      <p><strong>{{ savedResult.result.label }}</strong></p>
      <p>{{ savedResult.result.description }}</p>
      <p class="date">è¨ºæ–­æ—¥ï¼š{{ savedResult.date }}</p>
    </div>

    <p v-else>
      ã¾ã è¨ºæ–­çµæœãŒã‚ã‚Šã¾ã›ã‚“
    </p>
     <button class="logout" @click="$emit('logout')">
        ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
      </button>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";

const props = defineProps({
  name: String,
});

const savedResult = ref(null);

onMounted(() => {
  const data = localStorage.getItem(
    "instrumentResult_" + props.name
  );

  if (data) {
    savedResult.value = JSON.parse(data);
  }
});
</script>

<style scoped>
.logout {
  margin-top: 24px;
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: none;
  background: #eee;
  font-weight: bold;
  cursor: pointer;
}
</style>
